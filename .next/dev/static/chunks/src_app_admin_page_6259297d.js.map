{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Mine/FusionSpace/photoparkk-dev/photoparkk-next/src/app/admin/page.js"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n    ShoppingBag,\r\n    Package,\r\n    Frame,\r\n    BarChart3,\r\n    Loader2,\r\n    ArrowUpRight,\r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport {\r\n    Chart as ChartJS,\r\n    BarElement,\r\n    CategoryScale,\r\n    LinearScale,\r\n    ArcElement,\r\n    Tooltip,\r\n    Legend,\r\n} from \"chart.js\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport axiosInstance from \"@/utils/axiosInstance\";\r\n\r\nChartJS.register(BarElement, CategoryScale, LinearScale, Tooltip, Legend);\r\n\r\nconst numberFormatter = new Intl.NumberFormat(\"en-IN\");\r\n\r\nconst AdminDashboard = () => {\r\n    const [stats, setStats] = useState({\r\n        totalOrders: 0,\r\n        totalProducts: 0,\r\n        totalFrames: 0,\r\n        totalRevenue: 0,\r\n        breakdown: {\r\n            commonOrders: 0,\r\n            frameOrders: 0,\r\n            newArrivals: 0,\r\n            commonRevenue: 0,\r\n            frameRevenue: 0,\r\n        },\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetchDashboardStats();\r\n    }, []);\r\n\r\n    const fetchDashboardStats = async () => {\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n            const response = await axiosInstance.get(\"/admin/stats\");\r\n            const payload = response.data || {};\r\n            setStats({\r\n                totalOrders: payload.totalOrders || 0,\r\n                totalProducts: payload.totalProducts || 0,\r\n                totalFrames: payload.totalFrames || 0,\r\n                totalRevenue: payload.totalRevenue || 0,\r\n                breakdown: {\r\n                    commonOrders: payload.breakdown?.commonOrders || 0,\r\n                    frameOrders: payload.breakdown?.frameOrders || 0,\r\n                    newArrivals: payload.breakdown?.newArrivals || 0,\r\n                    commonRevenue: payload.breakdown?.commonRevenue || 0,\r\n                    frameRevenue: payload.breakdown?.frameRevenue || 0,\r\n                },\r\n            });\r\n        } catch (err) {\r\n            console.error(\"Failed to fetch dashboard stats:\", err);\r\n            setError(\"Failed to load dashboard statistics\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const breakdown = stats.breakdown;\r\n\r\n    const statCards = [\r\n        {\r\n            icon: ShoppingBag,\r\n            label: \"Total Orders\",\r\n            value: loading ? \"...\" : numberFormatter.format(stats.totalOrders),\r\n            color: \"text-blue-600 bg-blue-50\",\r\n            link: \"/admin/orders\",\r\n            ctaLabel: \"View Order Hub\",\r\n        },\r\n        {\r\n            icon: Package,\r\n            label: \"Total Products\",\r\n            value: loading ? \"...\" : numberFormatter.format(stats.totalProducts),\r\n            color: \"text-indigo-600 bg-indigo-50\",\r\n            link: \"/admin/products\",\r\n            ctaLabel: \"Studio Catalog\",\r\n        },\r\n        {\r\n            icon: Frame,\r\n            label: \"Total Frames\",\r\n            value: loading ? \"...\" : numberFormatter.format(stats.totalFrames),\r\n            color: \"text-sky-600 bg-sky-50\",\r\n            link: \"/admin/frames\",\r\n            ctaLabel: \"Curation Lab\",\r\n        },\r\n        {\r\n            icon: BarChart3,\r\n            label: \"Net Revenue\",\r\n            value: loading ? \"...\" : \"â‚¹\" + numberFormatter.format(stats.totalRevenue),\r\n            color: \"text-emerald-600 bg-emerald-50\",\r\n            link: \"/admin/orders\",\r\n            ctaLabel: \"Fiscal Overview\",\r\n        },\r\n    ];\r\n\r\n    const orderBreakdownData = {\r\n        labels: [\"Bespoke Orders\", \"Frame Studio\", \"Masterpiece Series\"],\r\n        datasets: [\r\n            {\r\n                label: \"Orders\",\r\n                data: [\r\n                    breakdown.commonOrders || 0,\r\n                    breakdown.frameOrders || 0,\r\n                    breakdown.newArrivals || 0,\r\n                ],\r\n                backgroundColor: [\r\n                    \"#2563eb\", // blue-600\r\n                    \"#64748b\", // slate-500\r\n                    \"#0ea5e9\", // sky-500\r\n                ],\r\n                borderRadius: 4,\r\n                borderSkipped: false,\r\n            },\r\n        ],\r\n    };\r\n\r\n    const orderChartOptions = {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n            legend: {\r\n                display: false,\r\n            },\r\n            tooltip: {\r\n                backgroundColor: \"#ffffff\",\r\n                titleColor: \"#0f172a\",\r\n                bodyColor: \"#64748b\",\r\n                borderColor: \"#e2e8f0\",\r\n                borderWidth: 1,\r\n                padding: 12,\r\n                titleFont: { family: 'Inter', size: 14, weight: 'bold' },\r\n                bodyFont: { family: 'Inter', size: 12 },\r\n                callbacks: {\r\n                    label: (context) => `${context.label}: ${context.formattedValue} shipments`,\r\n                },\r\n            },\r\n        },\r\n        scales: {\r\n            y: {\r\n                beginAtZero: true,\r\n                ticks: { precision: 0, font: { family: 'Poppins' } },\r\n                grid: { color: \"rgba(0,0,0,0.03)\" }\r\n            },\r\n            x: {\r\n                grid: { display: false },\r\n                ticks: { font: { family: 'Poppins' } }\r\n            }\r\n        },\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-6\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">System Dashboard</h1>\r\n                    <p className=\"text-slate-500 text-sm mt-1\">Operational overview and business intelligence.</p>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"bg-white border border-slate-200 px-4 py-2 rounded-xl flex items-center gap-2 shadow-sm\">\r\n                        <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\" />\r\n                        <span className=\"text-xs font-bold text-slate-600\">LIVE SYNC</span>\r\n                    </div>\r\n                    <button\r\n                        onClick={fetchDashboardStats}\r\n                        disabled={loading}\r\n                        className=\"flex items-center gap-2 bg-blue-600 text-white hover:bg-blue-700 px-5 py-2.5 rounded-xl text-sm font-bold transition-all shadow-md shadow-blue-500/10 active:scale-95\"\r\n                    >\r\n                        {loading ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : \"Update Data\"}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {error && (\r\n                <div className=\"bg-red-50 text-red-600 p-4 rounded-xl border border-red-100 flex items-center gap-3 animate-shake\">\r\n                    <div className=\"w-2 h-2 bg-red-600 rounded-full\" />\r\n                    <span className=\"font-semibold text-sm\">{error}</span>\r\n                </div>\r\n            )}\r\n\r\n            {/* Stats Grid */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                {statCards.map((stat, i) => {\r\n                    const Icon = stat.icon;\r\n                    return (\r\n                        <div key={i} className=\"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between h-full hover:shadow-lg hover:border-blue-100 transition-all duration-300 group\">\r\n                            <div className=\"flex justify-between items-start mb-6\">\r\n                                <div>\r\n                                    <p className=\"text-slate-400 text-[10px] font-bold uppercase tracking-widest mb-1\">{stat.label}</p>\r\n                                    <h3 className=\"text-3xl font-bold text-slate-900 group-hover:text-blue-600 transition-colors\">{stat.value}</h3>\r\n                                </div>\r\n                                <div className={`p-4 rounded-xl ${stat.color} transition-all duration-300 group-hover:scale-110 shadow-sm`}>\r\n                                    <Icon className=\"w-6 h-6\" />\r\n                                </div>\r\n                            </div>\r\n                            <Link href={stat.link} className=\"text-xs font-bold text-slate-400 hover:text-blue-600 flex items-center gap-1.5 mt-auto transition-colors\">\r\n                                {stat.ctaLabel} <ArrowUpRight className=\"w-3 h-3 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform\" />\r\n                            </Link>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n\r\n            {/* Charts Section */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                <div className=\"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-100 shadow-sm min-h-[440px]\">\r\n                    <div className=\"flex justify-between items-start mb-8\">\r\n                        <div>\r\n                            <h3 className=\"text-xl font-bold text-slate-900\">Distribution Analysis</h3>\r\n                            <p className=\"text-slate-400 text-xs mt-1\">Operational volume by product category</p>\r\n                        </div>\r\n                        <div className=\"flex gap-2\">\r\n                            <div className=\"flex items-center gap-1.5\"><div className=\"w-2 h-2 rounded-full bg-blue-600\" /><span className=\"text-[10px] font-bold text-slate-500 uppercase\">Primary</span></div>\r\n                            <div className=\"flex items-center gap-1.5\"><div className=\"w-2 h-2 rounded-full bg-slate-400\" /><span className=\"text-[10px] font-bold text-slate-500 uppercase\">Secondary</span></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"h-72 w-full\">\r\n                        {loading ? (\r\n                            <div className=\"flex items-center justify-center h-full\">\r\n                                <Loader2 className=\"w-8 h-8 animate-spin text-amber-200\" />\r\n                            </div>\r\n                        ) : (\r\n                            <Bar data={orderBreakdownData} options={orderChartOptions} />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-8 rounded-3xl border border-slate-100 shadow-lg flex flex-col justify-center items-center text-center overflow-hidden relative group\">\r\n                    <div className=\"absolute inset-0 bg-gradient-to-tr from-blue-50 to-transparent pointer-events-none\" />\r\n                    <div className=\"relative z-10\">\r\n                        <div className=\"w-20 h-20 bg-blue-600 text-white rounded-2xl flex items-center justify-center mb-6 mx-auto shadow-lg shadow-blue-500/20 group-hover:rotate-12 transition-transform duration-500\">\r\n                            <BarChart3 className=\"w-10 h-10\" />\r\n                        </div>\r\n                        <h3 className=\"text-2xl font-bold text-slate-900 mb-3 tracking-tight\">Growth Insight</h3>\r\n                        <p className=\"text-slate-500 text-sm max-w-xs mb-8 leading-relaxed\">\r\n                            Primary collections are driving growth with <span className=\"text-blue-600 font-bold\">{breakdown.newArrivals} new items</span> successfully launched this month.\r\n                        </p>\r\n                        <Link href=\"/admin/orders\" className=\"inline-block w-full bg-blue-600 text-white px-8 py-3.5 rounded-xl font-bold hover:bg-blue-700 transition-all shadow-md shadow-blue-500/20 active:scale-95\">\r\n                            Audit Performance\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AASA;AACA;;;AAtBA;;;;;;;AAwBA,wKAAO,CAAC,QAAQ,CAAC,6KAAU,EAAE,gLAAa,EAAE,8KAAW,EAAE,0KAAO,EAAE,yKAAM;AAExE,MAAM,kBAAkB,IAAI,KAAK,YAAY,CAAC;AAE9C,MAAM,iBAAiB;;IACnB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;QAC/B,aAAa;QACb,eAAe;QACf,aAAa;QACb,cAAc;QACd,WAAW;YACP,cAAc;YACd,aAAa;YACb,aAAa;YACb,eAAe;YACf,cAAc;QAClB;IACJ;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,IAAA,0KAAS;oCAAC;YACN;QACJ;mCAAG,EAAE;IAEL,MAAM,sBAAsB;QACxB,IAAI;YACA,WAAW;YACX,SAAS;YACT,MAAM,WAAW,MAAM,2IAAa,CAAC,GAAG,CAAC;YACzC,MAAM,UAAU,SAAS,IAAI,IAAI,CAAC;YAClC,SAAS;gBACL,aAAa,QAAQ,WAAW,IAAI;gBACpC,eAAe,QAAQ,aAAa,IAAI;gBACxC,aAAa,QAAQ,WAAW,IAAI;gBACpC,cAAc,QAAQ,YAAY,IAAI;gBACtC,WAAW;oBACP,cAAc,QAAQ,SAAS,EAAE,gBAAgB;oBACjD,aAAa,QAAQ,SAAS,EAAE,eAAe;oBAC/C,aAAa,QAAQ,SAAS,EAAE,eAAe;oBAC/C,eAAe,QAAQ,SAAS,EAAE,iBAAiB;oBACnD,cAAc,QAAQ,SAAS,EAAE,gBAAgB;gBACrD;YACJ;QACJ,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,oCAAoC;YAClD,SAAS;QACb,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,YAAY,MAAM,SAAS;IAEjC,MAAM,YAAY;QACd;YACI,MAAM,sOAAW;YACjB,OAAO;YACP,OAAO,UAAU,QAAQ,gBAAgB,MAAM,CAAC,MAAM,WAAW;YACjE,OAAO;YACP,MAAM;YACN,UAAU;QACd;QACA;YACI,MAAM,sNAAO;YACb,OAAO;YACP,OAAO,UAAU,QAAQ,gBAAgB,MAAM,CAAC,MAAM,aAAa;YACnE,OAAO;YACP,MAAM;YACN,UAAU;QACd;QACA;YACI,MAAM,gNAAK;YACX,OAAO;YACP,OAAO,UAAU,QAAQ,gBAAgB,MAAM,CAAC,MAAM,WAAW;YACjE,OAAO;YACP,MAAM;YACN,UAAU;QACd;QACA;YACI,MAAM,kOAAS;YACf,OAAO;YACP,OAAO,UAAU,QAAQ,MAAM,gBAAgB,MAAM,CAAC,MAAM,YAAY;YACxE,OAAO;YACP,MAAM;YACN,UAAU;QACd;KACH;IAED,MAAM,qBAAqB;QACvB,QAAQ;YAAC;YAAkB;YAAgB;SAAqB;QAChE,UAAU;YACN;gBACI,OAAO;gBACP,MAAM;oBACF,UAAU,YAAY,IAAI;oBAC1B,UAAU,WAAW,IAAI;oBACzB,UAAU,WAAW,IAAI;iBAC5B;gBACD,iBAAiB;oBACb;oBACA;oBACA;iBACH;gBACD,cAAc;gBACd,eAAe;YACnB;SACH;IACL;IAEA,MAAM,oBAAoB;QACtB,YAAY;QACZ,qBAAqB;QACrB,SAAS;YACL,QAAQ;gBACJ,SAAS;YACb;YACA,SAAS;gBACL,iBAAiB;gBACjB,YAAY;gBACZ,WAAW;gBACX,aAAa;gBACb,aAAa;gBACb,SAAS;gBACT,WAAW;oBAAE,QAAQ;oBAAS,MAAM;oBAAI,QAAQ;gBAAO;gBACvD,UAAU;oBAAE,QAAQ;oBAAS,MAAM;gBAAG;gBACtC,WAAW;oBACP,OAAO,CAAC,UAAY,GAAG,QAAQ,KAAK,CAAC,EAAE,EAAE,QAAQ,cAAc,CAAC,UAAU,CAAC;gBAC/E;YACJ;QACJ;QACA,QAAQ;YACJ,GAAG;gBACC,aAAa;gBACb,OAAO;oBAAE,WAAW;oBAAG,MAAM;wBAAE,QAAQ;oBAAU;gBAAE;gBACnD,MAAM;oBAAE,OAAO;gBAAmB;YACtC;YACA,GAAG;gBACC,MAAM;oBAAE,SAAS;gBAAM;gBACvB,OAAO;oBAAE,MAAM;wBAAE,QAAQ;oBAAU;gBAAE;YACzC;QACJ;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;;0CACG,6LAAC;gCAAG,WAAU;0CAAmD;;;;;;0CACjE,6LAAC;gCAAE,WAAU;0CAA8B;;;;;;;;;;;;kCAG/C,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAK,WAAU;kDAAmC;;;;;;;;;;;;0CAEvD,6LAAC;gCACG,SAAS;gCACT,UAAU;gCACV,WAAU;0CAET,wBAAU,6LAAC,+NAAO;oCAAC,WAAU;;;;;+EAA4B;;;;;;;;;;;;;;;;;;YAKrE,uBACG,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAK,WAAU;kCAAyB;;;;;;;;;;;;0BAKjD,6LAAC;gBAAI,WAAU;0BACV,UAAU,GAAG,CAAC,CAAC,MAAM;oBAClB,MAAM,OAAO,KAAK,IAAI;oBACtB,qBACI,6LAAC;wBAAY,WAAU;;0CACnB,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;;0DACG,6LAAC;gDAAE,WAAU;0DAAuE,KAAK,KAAK;;;;;;0DAC9F,6LAAC;gDAAG,WAAU;0DAAiF,KAAK,KAAK;;;;;;;;;;;;kDAE7G,6LAAC;wCAAI,WAAW,CAAC,eAAe,EAAE,KAAK,KAAK,CAAC,4DAA4D,CAAC;kDACtG,cAAA,6LAAC;4CAAK,WAAU;;;;;;;;;;;;;;;;;0CAGxB,6LAAC,0KAAI;gCAAC,MAAM,KAAK,IAAI;gCAAE,WAAU;;oCAC5B,KAAK,QAAQ;oCAAC;kDAAC,6LAAC,6OAAY;wCAAC,WAAU;;;;;;;;;;;;;uBAXtC;;;;;gBAelB;;;;;;0BAIJ,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;;0DACG,6LAAC;gDAAG,WAAU;0DAAmC;;;;;;0DACjD,6LAAC;gDAAE,WAAU;0DAA8B;;;;;;;;;;;;kDAE/C,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;;kEAA4B,6LAAC;wDAAI,WAAU;;;;;;kEAAqC,6LAAC;wDAAK,WAAU;kEAAiD;;;;;;;;;;;;0DAChK,6LAAC;gDAAI,WAAU;;kEAA4B,6LAAC;wDAAI,WAAU;;;;;;kEAAsC,6LAAC;wDAAK,WAAU;kEAAiD;;;;;;;;;;;;;;;;;;;;;;;;0CAGzK,6LAAC;gCAAI,WAAU;0CACV,wBACG,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,+NAAO;wCAAC,WAAU;;;;;;;;;;6FAGvB,6LAAC,gKAAG;oCAAC,MAAM;oCAAoB,SAAS;;;;;;;;;;;;;;;;;kCAKpD,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;;;;;0CACf,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC,kOAAS;4CAAC,WAAU;;;;;;;;;;;kDAEzB,6LAAC;wCAAG,WAAU;kDAAwD;;;;;;kDACtE,6LAAC;wCAAE,WAAU;;4CAAuD;0DACpB,6LAAC;gDAAK,WAAU;;oDAA2B,UAAU,WAAW;oDAAC;;;;;;;4CAAiB;;;;;;;kDAElI,6LAAC,0KAAI;wCAAC,MAAK;wCAAgB,WAAU;kDAA4J;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQzN;GA3OM;KAAA;uCA6OS"}}]
}